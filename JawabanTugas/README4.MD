# Nama : Vico Winner Sebastian Aritonang
# NPM  : 2306219083

# Apa perbedaan antara HttpResponseRedirect() dan redirect()
dalam sebuah proyek django kita dapat mengimport HttpResponseRedirect dan redirect. kedua fungsi ini memiliki tujuan yang sama yaitu mengarahkan pengguna ke halaman tertentu. dalam tugas saya, saya menggunakannya untuk mengalihkan pengguna dari halaman login ke halaman utama, dan halaman utama ke halaman login melalui log out. akan tetapi, fungsi HttpResponseRedirect memiliki lebih banyak control terhadap cookie dibandingkan dengan redirect. menggunakan HttpResponseRedirect, kita dapat mendapatkan data cookie seperti waktu, durasi, path, dan sebagainya. fungsi redirect tidak dapat melakukan hal tersebut secara langsung sehingga kita harus mengatur cookie secara terpisah. akan tetapi redirect memiliki penulisan yang lebih ringkas dibandingkan httpresponseredirect. oleh karena itu kita dapat memilih penggunaannya sesuai dengan kebutuhan kita.

# Jelaskan cara kerja penghubungan model Product dengan User!
pada sebuah proyek django, kita dapat mengimpor user dari library dan mendefinisikannya pada models.py. user dalam proyek django dapat dibuat ketika kita memiliki fitur login dan register pada proyek django kita. kita dapat membuat sebuah form untuk login lalu menyimpannya ke database kita sebagai user. kita dapat mengambil data user dari model setelah melakukan migrasi model. dengan begitu, kita dapat menyesuaikan data di views berdasarkan user secara spesifik. dalam tugas saya, saya dapat mengambil username dari user kedalam views lalu menampilkannya pada template main.

# Apa perbedaan antara authentication dan authorization, apakah yang dilakukan saat pengguna login? Jelaskan bagaimana Django mengimplementasikan kedua konsep tersebut.
Saat membuat sebuah proyek django, kita dihadapkan dengan autentifikasi dan autorisasi. Autentifikasi adalah proses dimana website atau proyek django yang kita buat mengecek apakah kita adalah user yang tepat/terdaftar atau tidak. autentifikasi terjadi saat kita melakukan login pada form login. views.py pada proyek django akan mengambil kelas AuthenticationForm dan menggunakan parameter login untuk mengecek apakah pengguna sah atau tidak untuk login. sedangkan autorisasi adalah sebuah proses dimana sistema akan mengecek apakah kita sah untuk mengakses resource tertentu atau melakukan kegiatan tertentu pada sistem. autorisasi digunakan untuk membatasi hak pengguna untuk mengakses path atau halaman tertentu pada proyek. kita dapat menggunakan syntax seperti 
@login_require(login_url='/ login') diatas fungsi yang ditentukan untuk autorisasi pada tugas saya.

# Bagaimana Django mengingat pengguna yang telah login? Jelaskan kegunaan lain dari cookies dan apakah semua cookies aman digunakan?
django dapat mengingat pengguna yang telah login dengan mengimpor login dari library django.contrib.auth. Django akan menyimpan semua ID sesi dari setiap pengguna yang melakukan register dan login. setiap sesi login setiap user yang terdaftar akan disimpan dalam database. django dapat menyimpan user login beserta file dan data lain kedalam database. setelah login django dapat mengirimkan cookie ke browser dan bisa mendapatkan beberapa informasi tentang pengguna seperti tema, bahasa, perilaku pengguna di browser, dan sebagainya. cookie juga dapat menjaga user yang login tetap terautorisasi saat ingin melakukan action di dalam website. dengan begitu, user tidak perlu login berulang ulang saat ingin melakukan sesuatu. sebagian besar cookie aman untuk digunakan dalam website. akan tetapi, kita harus membatasi masa hidup cookie agar terhindar dari serangan terutama jika cookie berisi informasi sensitif pengguna. selain itu, kita dapat menggunakan secure dan samesite cookies untuk mencegah beberapa jenis serangan.

# Jelaskan bagaimana cara kamu mengimplementasikan checklist di atas secara step-by-step (bukan hanya sekadar mengikuti tutorial).

## Mengimplementasikan fungsi registrasi, login, dan logout untuk memungkinkan pengguna untuk mengakses aplikasi sebelumnya dengan lancar.
untuk mengimplementasikan fungsi registrasi, login, dan logout, kita dapat terlebih dahulu membuat template form register dan form login pada directory main/template. lalu kita dapat membuat fungsi register pada views.py. fungsi register akan menciptakan form register lalu meminta isian form. jika isian form register valid, akun akan ditambahkan ke database. lalu kita dapat membuat fungsi login pada views.py. fungsi login tersebut akan mengakses kelas AuthenticationForm untuk mengecek apakah user dan pasword sesuai dan terdaftar di database atau tidak. jika login berhasil, pengguna akan dialihkan ke halaman utama. untuk fungsi logout, kita dapat membuat fungsi logout di views.py. kita dapat memanggil method logout dengan parameter request. dengan begitu kita akan mengeluarkan akun yang sedang login di website. setelah itu, kita dapat menyesuaikan tombol pada main.html terhadap fungsi fungsi yang baru kita buat. selanjutnya kita harus menambahkan path untuk setiap fungsi pada urls.py. setelah semua nya telah terintegrasi, kita dapat melakukan registrasi dan login untuk masuk ke aplikasi sebelumnya lalu logout untuk keluar.

##  Membuat dua akun pengguna dengan masing-masing tiga dummy data menggunakan model yang telah dibuat pada aplikasi sebelumnya untuk setiap akun di lokal.
kita dapat membuat akun  pengguna dengan mengaktifkan server dan mengakses localhost. kita dapat membuat akun pengguna secara langsung dengan mengisi registration form. untuk tahap ini saya membuat akun untuk user01, user02, dan user03 dengan password yang berbeda beda. 

## Menghubungkan model Product dengan User.
untuk menghubungkan model product dengan user, kita dapat mengimpor user dari django pada models.py terlebih dahulu. selanjutnya kita harus mendefinisikan variabel user pada models dengan user = models.ForeignKey(User, on_delete=models.CASCADE). setelah itu kita dapat mengakses user ke dalam views.py dan dapat mengambil informasi dari setiap user untuk nantinya dimasukkan kedalam template. kita dapat menyesuaikan user pada views dengan melakukan request terhadap user untuk mengakses informasi tentang user. setelah itu kita dapat melakukan migrasi model pada terminal. setelah itu kita dapat melakukan penyesuaian pada settings.py untuk mengambil data dari environtment variabel bernama production dengan mengimport OS.

# Menampilkan detail informasi pengguna yang sedang logged in seperti username dan menerapkan cookies seperti last login pada halaman utama aplikasi.

untuk mengakses informasi pengguna yang sedang login, kita dapat melakukan request dan memasukkannya dalam code yang kita mau. contohnya dalam tugas saya, saya mengakses nya dari context pada show_main yang meminta parameter request. setelah menginisiasi user pada models pada tahap sebelumnya, kita dapat mengakses informasi user dari views.py. jika kita ingin mengakses username, kita dapat menggunakan syntax reques.user.username. untuk mengambil data cookie kita dapat menggunakan request.COOKIES['last login'] untuk mendapatkan data login dari COOKIES. request tersebut akan mengembalikan informasi tentang user yang sedang login karena parameter request yang dimiliki oleh show_main berasal dari login user.